import{_ as S,r as _,K as L,s as T,D,o as n,c as i,b as s,i as d,h as C,F as h,z as x,t as a,y as m,A as r,w as y,k as f,L as u}from"./index-80ce5560.js";const E={class:"notifications-page"},H={class:"page-header"},I={class:"header-actions"},j={class:"filter-tabs"},K=["onClick"],q={key:0,class:"count-badge"},G={class:"stats-grid"},J={class:"stat-card"},O={class:"stat-icon",style:{background:"linear-gradient(135deg, #FF9500, #FF8C00)"}},P={class:"stat-content"},Q={class:"stat-value"},U={class:"stat-card"},W={class:"stat-icon",style:{background:"linear-gradient(135deg, #34C759, #30B74F)"}},X={class:"stat-content"},Y={class:"stat-value"},Z={class:"stat-card"},ss={class:"stat-icon",style:{background:"linear-gradient(135deg, #5AC8FA, #0AB5FF)"}},ts={class:"stat-content"},es={class:"stat-value"},ls={class:"stat-card"},os={class:"stat-icon",style:{background:"linear-gradient(135deg, #FF6B40, #FF5E3A)"}},ns={class:"stat-content"},is={class:"stat-value"},as={class:"notifications-list"},ds=["onClick"],rs={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},us={key:1,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cs={key:2,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vs={key:3,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gs={class:"notification-content"},ks={class:"notification-header"},ms={class:"notification-time"},ps={class:"notification-message"},_s={class:"notification-footer"},ys={class:"category-tag"},fs={class:"notification-actions"},bs=["onClick"],ws=["onClick"],Cs={class:"modal-header"},hs={class:"modal-body"},xs={class:"setting-item"},Fs={class:"setting-item"},Ns={class:"setting-item"},$s={class:"setting-item"},As={class:"modal-footer"},Bs={__name:"Notifications",setup(zs){const g=_("all"),c=_(!1),k=L(),{notifications:v,unreadCount:b,readCount:F,todayCount:N}=T(k),$=[{type:"all",label:"全部",icon:"list"},{type:"unread",label:"未读",icon:"bell"},{type:"system",label:"系统",icon:"settings"},{type:"device",label:"设备",icon:"plug"},{type:"business",label:"业务",icon:"file-text"}],o=_({system:!0,device:!0,user:!0,desktop:!1}),A=D(()=>g.value==="all"?v.value:g.value==="unread"?v.value.filter(l=>!l.read):v.value.filter(l=>l.tab===g.value)),w=l=>l==="all"?v.value.length:l==="unread"?b.value:v.value.filter(t=>t.tab===l).length,B=()=>{k.markAllRead()},z=l=>{k.markAsRead(l.id)},M=l=>{confirm("确定要删除这条通知吗？")&&k.deleteNotification(l)},R=l=>{k.markAsRead(l.id),console.log("打开通知详情:",l)},V=()=>{console.log("保存设置:",o.value),c.value=!1,alert("通知设置已保存！")};return(l,t)=>(n(),i("div",E,[s("div",H,[t[11]||(t[11]=s("div",{class:"header-left"},[s("h1",null,"通知中心"),s("p",{class:"subtitle"},"管理和查看所有系统通知")],-1)),s("div",I,[s("button",{class:"action-btn secondary",onClick:B},[d(u,{name:"check",size:"sm"}),t[9]||(t[9]=C(" 全部已读 ",-1))]),s("button",{class:"action-btn",onClick:t[0]||(t[0]=e=>c.value=!0)},[d(u,{name:"settings",size:"sm"}),t[10]||(t[10]=C(" 通知设置 ",-1))])])]),s("div",j,[(n(),i(h,null,x($,e=>s("button",{key:e.type,class:r(["tab-btn",{active:g.value===e.type}]),onClick:p=>g.value=e.type},[d(u,{name:e.icon,size:"sm"},null,8,["name"]),s("span",null,a(e.label),1),w(e.type)>0?(n(),i("span",q,a(w(e.type)),1)):f("",!0)],10,K)),64))]),s("div",G,[s("div",J,[s("div",O,[d(u,{name:"bell",size:"md"})]),s("div",P,[s("div",Q,a(m(b)),1),t[12]||(t[12]=s("div",{class:"stat-label"},"未读通知",-1))])]),s("div",U,[s("div",W,[d(u,{name:"check",size:"md"})]),s("div",X,[s("div",Y,a(m(F)),1),t[13]||(t[13]=s("div",{class:"stat-label"},"已读通知",-1))])]),s("div",Z,[s("div",ss,[d(u,{name:"list",size:"md"})]),s("div",ts,[s("div",es,a(m(v).length),1),t[14]||(t[14]=s("div",{class:"stat-label"},"全部通知",-1))])]),s("div",ls,[s("div",os,[d(u,{name:"trending",size:"md"})]),s("div",ns,[s("div",is,"+"+a(m(N)),1),t[15]||(t[15]=s("div",{class:"stat-label"},"今日新增",-1))])])]),s("div",as,[(n(!0),i(h,null,x(A.value,e=>(n(),i("div",{key:e.id,class:r(["notification-card",{unread:!e.read,[e.type]:!0}]),onClick:p=>R(e)},[t[20]||(t[20]=s("div",{class:"notification-indicator"},null,-1)),s("div",{class:r(["notification-icon",e.type])},[e.type==="success"?(n(),i("svg",rs,[...t[16]||(t[16]=[s("path",{d:"M20 6L9 17L4 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):e.type==="warning"?(n(),i("svg",us,[...t[17]||(t[17]=[s("path",{d:"M12 9V13M12 17H12.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])])):e.type==="error"?(n(),i("svg",cs,[...t[18]||(t[18]=[s("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),s("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),s("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])])):(n(),i("svg",vs,[...t[19]||(t[19]=[s("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1),s("path",{d:"M12 8V12M12 16H12.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])]))],2),s("div",gs,[s("div",ks,[s("h3",null,a(e.title),1),s("span",ms,a(e.time),1)]),s("p",ps,a(e.message),1),s("div",_s,[s("span",ys,a(e.category),1),s("div",fs,[e.read?f("",!0):(n(),i("button",{key:0,class:"mark-read-btn",onClick:y(p=>z(e),["stop"])}," 标记已读 ",8,bs)),s("button",{class:"delete-btn",onClick:y(p=>M(e.id),["stop"])}," 删除 ",8,ws)])])])],10,ds))),128))]),c.value?(n(),i("div",{key:0,class:"modal-overlay",onClick:t[8]||(t[8]=e=>c.value=!1)},[s("div",{class:"modal-content",onClick:t[7]||(t[7]=y(()=>{},["stop"]))},[s("div",Cs,[t[21]||(t[21]=s("h2",null,"通知设置",-1)),s("button",{class:"close-btn",onClick:t[1]||(t[1]=e=>c.value=!1)},"✕")]),s("div",hs,[s("div",xs,[t[23]||(t[23]=s("div",{class:"setting-info"},[s("h4",null,"系统通知"),s("p",null,"接收系统更新、维护等重要通知")],-1)),s("div",{class:r(["toggle-switch",{active:o.value.system}]),onClick:t[2]||(t[2]=e=>o.value.system=!o.value.system)},[...t[22]||(t[22]=[s("div",{class:"toggle-thumb"},null,-1)])],2)]),s("div",Fs,[t[25]||(t[25]=s("div",{class:"setting-info"},[s("h4",null,"设备通知"),s("p",null,"接收设备状态、告警等通知")],-1)),s("div",{class:r(["toggle-switch",{active:o.value.device}]),onClick:t[3]||(t[3]=e=>o.value.device=!o.value.device)},[...t[24]||(t[24]=[s("div",{class:"toggle-thumb"},null,-1)])],2)]),s("div",Ns,[t[27]||(t[27]=s("div",{class:"setting-info"},[s("h4",null,"用户通知"),s("p",null,"接收用户注册、操作等通知")],-1)),s("div",{class:r(["toggle-switch",{active:o.value.user}]),onClick:t[4]||(t[4]=e=>o.value.user=!o.value.user)},[...t[26]||(t[26]=[s("div",{class:"toggle-thumb"},null,-1)])],2)]),s("div",$s,[t[29]||(t[29]=s("div",{class:"setting-info"},[s("h4",null,"桌面通知"),s("p",null,"在桌面显示通知提醒")],-1)),s("div",{class:r(["toggle-switch",{active:o.value.desktop}]),onClick:t[5]||(t[5]=e=>o.value.desktop=!o.value.desktop)},[...t[28]||(t[28]=[s("div",{class:"toggle-thumb"},null,-1)])],2)])]),s("div",As,[s("button",{class:"btn secondary",onClick:t[6]||(t[6]=e=>c.value=!1)},"取消"),s("button",{class:"btn primary",onClick:V},"保存设置")])])])):f("",!0)]))}},Rs=S(Bs,[["__scopeId","data-v-f5250173"]]);export{Rs as default};
