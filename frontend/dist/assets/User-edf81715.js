import{_ as mt,r as v,E as rt,q as _t,o as n,c as i,b as t,t as o,h as dt,k as m,e as p,v as _,D as H,F as P,z as R,w as S,I as L,A as b,L as yt,M as y,m as Ct}from"./index-324e4295.js";const xt={class:"page"},Mt={class:"stats-row"},Ut={class:"stat-card"},Vt={class:"stat-info"},Bt={class:"stat-value"},Ft={class:"stat-card"},Dt={class:"stat-info"},At={class:"stat-value"},It={class:"stat-card"},zt={class:"stat-info"},Et={class:"stat-value"},St={class:"stat-card"},$t={class:"stat-info"},qt={class:"stat-value"},Ht={class:"card"},Pt={class:"toolbar"},Rt={class:"toolbar-left"},Lt={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"18px",height:"18px","margin-right":"6px"}},Tt=["disabled"],Nt={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"16px",height:"16px"}},Wt={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"16px",height:"16px","margin-right":"4px"}},Kt={class:"toolbar-right"},jt={class:"search-box"},Ot={key:0,class:"loading-state"},Qt={key:1,class:"table-container"},Gt={class:"user-table"},Jt={class:"checkbox-col"},Xt=["checked"],Yt={class:"checkbox-col"},Zt=["checked","onChange"],ts={class:"user-name-cell"},ss={class:"user-name"},es={key:0,class:"vip-badge"},ls={class:"phone-col"},os={class:"balance-col"},as={class:"number-col"},ns={class:"number-col"},is={class:"date-col"},rs={class:"actions-col"},ds={class:"action-buttons"},us=["onClick"],vs=["onClick"],cs=["onClick","title"],gs={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ps={key:1,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hs=["onClick"],bs=["onClick"],ws={key:2,class:"empty-state"},fs={class:"empty-text"},ks={class:"dialog"},ms={class:"dialog-header"},_s={class:"form-group"},ys={class:"form-group"},Cs={key:0,class:"form-group"},xs={class:"form-row"},Ms={class:"form-group"},Us={class:"form-group"},Vs={class:"dialog-actions"},Bs={type:"submit",class:"btn-primary"},Fs={class:"dialog detail-dialog"},Ds={class:"dialog-header"},As={class:"dialog-title-section"},Is={class:"dialog-subtitle"},zs={class:"dialog-body"},Es={class:"detail-section"},Ss={class:"info-grid"},$s={class:"info-item"},qs={class:"info-value"},Hs={class:"info-item"},Ps={class:"info-item"},Rs={class:"info-item"},Ls={class:"info-value"},Ts={class:"detail-section"},Ns={class:"info-grid"},Ws={class:"info-item"},Ks={class:"info-value highlight"},js={class:"info-item"},Os={class:"info-value"},Qs={class:"info-item"},Gs={class:"info-value"},Js={class:"info-item"},Xs={class:"info-value"},Ys={class:"detail-section"},Zs={class:"record-list"},te={class:"record-info"},se={class:"record-station"},ee={class:"record-time"},le={class:"record-stats"},oe={class:"record-energy"},ae={class:"record-cost"},ne={class:"dialog-footer"},ie={class:"dialog recharge-dialog"},re={class:"dialog-body"},de={class:"user-info-summary"},ue={class:"user-details"},ve={class:"user-name"},ce={class:"current-balance"},ge={class:"form-group"},pe={class:"amount-input-wrapper"},he={class:"quick-amounts"},be=["onClick"],we={class:"dialog-footer"},fe=["disabled"],ke={__name:"User",setup(me){const u=v([]),C=v(""),x=v(""),M=v(""),U=v(!1),V=v(!1),$=v(!1),c=v(null),w=v(!1),B=v(!1),d=v([]),a=v(null),r=v({id:null,username:"",phone:"",password:"",role:"user",balance:0,status:"active"}),F=rt(()=>{const e=u.value.length,s=u.value.filter(h=>h.status==="active").length,g=u.value.filter(h=>h.status==="charging").length,z=u.value.reduce((h,E)=>h+(E.totalChargingEnergy||0),0);return{total:e,active:s,charging:g,totalEnergy:z.toFixed(1)}}),f=rt(()=>{let e=[...u.value];if(C.value){const s=C.value.toLowerCase();e=e.filter(g=>g.username.toLowerCase().includes(s)||g.phone.includes(s))}return x.value&&(e=e.filter(s=>s.role===x.value)),M.value&&(e=e.filter(s=>s.status===M.value)),e}),T=e=>({user:"普通用户",vip:"VIP用户",admin:"管理员"})[e]||e,N=e=>({active:"正常",charging:"充电中",disabled:"已禁用"})[e]||e,W=()=>{const e=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #30cfd0 0%, #330867 100%)","linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"];return e[Math.floor(Math.random()*e.length)]},D=async()=>{try{B.value=!0;const e=await y.list({page:1,size:100});u.value=e.records.map(s=>({...s,avatarColor:W(),recentCharges:[]}))}catch(e){console.error("获取用户列表失败:",e)}finally{B.value=!1}},ut=()=>{d.value=[],D()},vt=e=>{const s=d.value.indexOf(e);s>-1?d.value.splice(s,1):d.value.push(e)},ct=()=>{d.value.length===f.value.length?d.value=[]:d.value=f.value.map(e=>e.id)},gt=async()=>{if(confirm(`确定要删除选中的 ${d.value.length} 个用户吗？`))try{await Promise.all(d.value.map(e=>y.delete(e))),u.value=u.value.filter(e=>!d.value.includes(e.id)),d.value=[]}catch(e){console.error("批量删除失败:",e),alert("批量删除失败"),D()}},pt=()=>{w.value=!1,r.value={id:null,username:"",phone:"",password:"",role:"user",balance:0,status:"active"},U.value=!0},ht=e=>{a.value=e,V.value=!0},K=e=>{w.value=!0,r.value={...e},U.value=!0,V.value=!1},bt=e=>{a.value=e,c.value=null,$.value=!0},A=()=>{$.value=!1,c.value=null},j=async()=>{if(!c.value||c.value<=0){alert("请输入有效的充值金额");return}try{await y.recharge(a.value.id,c.value),alert("充值成功"),A(),D()}catch(e){console.error("充值失败:",e),alert("充值失败")}},wt=async e=>{const s=e.status==="disabled"?"active":"disabled";try{await y.update(e.id,{status:s}),e.status=s}catch(g){console.error("更新状态失败:",g),alert("更新状态失败")}},ft=async e=>{if(confirm(`确定要删除用户"${e.username}"吗？`))try{await y.delete(e.id),u.value=u.value.filter(s=>s.id!==e.id)}catch(s){console.error("删除失败:",s),alert("删除失败")}},I=()=>{U.value=!1},q=()=>{V.value=!1},kt=async()=>{try{if(w.value){await y.update(r.value.id,r.value);const e=u.value.findIndex(s=>s.id===r.value.id);e!==-1&&(u.value[e]={...u.value[e],...r.value})}else{const e=await Ct.register(r.value);u.value.unshift({...e,avatarColor:W(),recentCharges:[]})}I()}catch(e){console.error("操作失败:",e),alert("操作失败: "+(e.message||"未知错误"))}};return _t(()=>{D()}),(e,s)=>{var g,z,h,E,O,Q,G,J,X,Y,Z,tt,st,et,lt,ot,at,nt,it;return n(),i("div",xt,[s[63]||(s[63]=t("h1",{class:"page-title"},"用户信息管理",-1)),t("div",Mt,[t("div",Ut,[s[11]||(s[11]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #007AFF, #5856D6)"}},[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)),t("div",Vt,[t("div",Bt,o(F.value.total),1),s[10]||(s[10]=t("div",{class:"stat-label"},"总用户数",-1))])]),t("div",Ft,[s[13]||(s[13]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #34C759, #30D158)"}},[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M9 12l2 2 4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)),t("div",Dt,[t("div",At,o(F.value.active),1),s[12]||(s[12]=t("div",{class:"stat-label"},"活跃用户",-1))])]),t("div",It,[s[15]||(s[15]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #FF9500, #FF6B00)"}},[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M13 2L3 14h8l-1 8 10-12h-8l1-8z",fill:"currentColor"})])],-1)),t("div",zt,[t("div",Et,o(F.value.charging),1),s[14]||(s[14]=t("div",{class:"stat-label"},"充电中",-1))])]),t("div",St,[s[17]||(s[17]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #AF52DE, #BF5AF2)"}},[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("rect",{x:"3",y:"6",width:"18",height:"12",rx:"2",stroke:"currentColor","stroke-width":"2"}),t("line",{x1:"7",y1:"12",x2:"17",y2:"12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)),t("div",$t,[t("div",qt,o(F.value.totalEnergy),1),s[16]||(s[16]=t("div",{class:"stat-label"},"累计电量(kWh)",-1))])])]),t("div",Ht,[t("div",Pt,[t("div",Rt,[t("button",{class:"btn-primary",onClick:pt},[(n(),i("svg",Lt,[...s[18]||(s[18]=[t("path",{d:"M12 5v14M5 12h14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])])),s[19]||(s[19]=dt(" 添加用户 ",-1))]),t("button",{class:"btn-secondary",onClick:ut,disabled:B.value},[(n(),i("svg",Nt,[...s[20]||(s[20]=[t("path",{d:"M21 10c-2.4-2.4-5.7-3.9-9.4-3.9-7.2 0-13.1 5.9-13.1 13.1M3 14c2.4 2.4 5.7 3.9 9.4 3.9 7.2 0 13.1-5.9 13.1-13.1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),t("path",{d:"M21 3v7h-7M3 21v-7h7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])]))],8,Tt),d.value.length>0?(n(),i("button",{key:0,class:"btn-secondary",onClick:gt},[(n(),i("svg",Wt,[...s[21]||(s[21]=[t("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])])),dt(" 批量删除 ("+o(d.value.length)+") ",1)])):m("",!0)]),t("div",Kt,[t("div",jt,[s[22]||(s[22]=t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"search-icon"},[t("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M21 21l-4.35-4.35",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),p(t("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>C.value=l),type:"text",placeholder:"搜索用户名、手机号...",class:"search-input"},null,512),[[_,C.value]])]),p(t("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>x.value=l),class:"filter-select"},[...s[23]||(s[23]=[t("option",{value:""},"全部角色",-1),t("option",{value:"user"},"普通用户",-1),t("option",{value:"vip"},"VIP用户",-1),t("option",{value:"admin"},"管理员",-1)])],512),[[H,x.value]]),p(t("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>M.value=l),class:"filter-select"},[...s[24]||(s[24]=[t("option",{value:""},"全部状态",-1),t("option",{value:"active"},"正常",-1),t("option",{value:"charging"},"充电中",-1),t("option",{value:"disabled"},"已禁用",-1)])],512),[[H,M.value]])])]),B.value?(n(),i("div",Ot,[...s[25]||(s[25]=[t("div",{class:"spinner"},null,-1),t("p",null,"加载中...",-1)])])):f.value.length>0?(n(),i("div",Qt,[t("table",Gt,[t("thead",null,[t("tr",null,[t("th",Jt,[t("input",{type:"checkbox",onChange:ct,checked:d.value.length===f.value.length&&f.value.length>0},null,40,Xt)]),s[26]||(s[26]=t("th",null,"头像",-1)),s[27]||(s[27]=t("th",null,"用户名",-1)),s[28]||(s[28]=t("th",null,"手机号",-1)),s[29]||(s[29]=t("th",null,"角色",-1)),s[30]||(s[30]=t("th",null,"余额",-1)),s[31]||(s[31]=t("th",null,"充电次数",-1)),s[32]||(s[32]=t("th",null,"累计电量",-1)),s[33]||(s[33]=t("th",null,"状态",-1)),s[34]||(s[34]=t("th",null,"注册时间",-1)),s[35]||(s[35]=t("th",{class:"actions-col"},"操作",-1))])]),t("tbody",null,[(n(!0),i(P,null,R(f.value,l=>(n(),i("tr",{key:l.id,class:b({selected:d.value.includes(l.id)})},[t("td",Yt,[t("input",{type:"checkbox",checked:d.value.includes(l.id),onChange:k=>vt(l.id)},null,40,Zt)]),t("td",null,[t("div",{class:"user-avatar",style:L({background:l.avatarColor})},o(l.username.charAt(0).toUpperCase()),5)]),t("td",null,[t("div",ts,[t("span",ss,o(l.username),1),l.role==="vip"?(n(),i("span",es,"VIP")):m("",!0)])]),t("td",ls,o(l.phone),1),t("td",null,[t("span",{class:b(["role-badge","role-"+l.role])},o(T(l.role)),3)]),t("td",os,"¥"+o(l.balance.toFixed(2)),1),t("td",as,o(l.totalChargingCount),1),t("td",ns,o(l.totalChargingEnergy.toFixed(1)),1),t("td",null,[t("span",{class:b(["status-badge","status-"+l.status])},o(N(l.status)),3)]),t("td",is,o(l.createdAt),1),t("td",rs,[t("div",ds,[t("button",{class:"btn-icon btn-view",onClick:k=>ht(l),title:"查看"},[...s[36]||(s[36]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor","stroke-width":"2"}),t("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"})],-1)])],8,us),t("button",{class:"btn-icon btn-edit",onClick:k=>K(l),title:"编辑"},[...s[37]||(s[37]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7",stroke:"currentColor","stroke-width":"2"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z",stroke:"currentColor","stroke-width":"2"})],-1)])],8,vs),t("button",{class:b(["btn-icon",l.status==="disabled"?"btn-enable":"btn-disable"]),onClick:k=>wt(l),title:l.status==="disabled"?"启用":"禁用"},[l.status==="disabled"?(n(),i("svg",gs,[...s[38]||(s[38]=[t("path",{d:"M5 3l14 9-14 9V3z",fill:"currentColor"},null,-1)])])):(n(),i("svg",ps,[...s[39]||(s[39]=[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),t("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)])]))],10,cs),t("button",{class:"btn-icon btn-recharge",onClick:k=>bt(l),title:"充值"},[...s[40]||(s[40]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,hs),t("button",{class:"btn-icon btn-delete",onClick:k=>ft(l),title:"删除"},[...s[41]||(s[41]=[t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2",stroke:"currentColor","stroke-width":"2"})],-1)])],8,bs)])])],2))),128))])])])):(n(),i("div",ws,[s[42]||(s[42]=t("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"empty-icon"},[t("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",stroke:"currentColor","stroke-width":"2"})],-1)),t("p",fs,o(C.value||x.value||M.value?"未找到匹配的用户":"暂无用户，点击上方按钮添加"),1)]))]),U.value?(n(),i("div",{key:0,class:"dialog-overlay",onClick:S(I,["self"])},[t("div",ks,[t("div",ms,[t("h2",null,o(w.value?"编辑用户":"添加用户"),1),t("button",{class:"close-btn",onClick:I},"×")]),t("form",{onSubmit:S(kt,["prevent"]),class:"dialog-body"},[t("div",_s,[s[43]||(s[43]=t("label",null,"用户名 *",-1)),p(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>r.value.username=l),type:"text",placeholder:"请输入用户名",required:""},null,512),[[_,r.value.username]])]),t("div",ys,[s[44]||(s[44]=t("label",null,"手机号 *",-1)),p(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>r.value.phone=l),type:"tel",placeholder:"请输入手机号",pattern:"1[3-9]\\d{9}",required:""},null,512),[[_,r.value.phone]])]),w.value?m("",!0):(n(),i("div",Cs,[s[45]||(s[45]=t("label",null,"密码 *",-1)),p(t("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>r.value.password=l),type:"password",placeholder:"请输入密码",minlength:"6",required:""},null,512),[[_,r.value.password]])])),t("div",xs,[t("div",Ms,[s[47]||(s[47]=t("label",null,"角色",-1)),p(t("select",{"onUpdate:modelValue":s[6]||(s[6]=l=>r.value.role=l)},[...s[46]||(s[46]=[t("option",{value:"user"},"普通用户",-1),t("option",{value:"vip"},"VIP用户",-1),t("option",{value:"admin"},"管理员",-1)])],512),[[H,r.value.role]])]),t("div",Us,[s[48]||(s[48]=t("label",null,"账户余额",-1)),p(t("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>r.value.balance=l),type:"number",step:"0.01",min:"0",placeholder:"0.00"},null,512),[[_,r.value.balance,void 0,{number:!0}]])])]),t("div",Vs,[t("button",{type:"button",class:"btn-secondary",onClick:I},"取消"),t("button",Bs,o(w.value?"保存":"添加"),1)])],32)])])):m("",!0),V.value?(n(),i("div",{key:1,class:"dialog-overlay",onClick:S(q,["self"])},[t("div",Fs,[t("div",Ds,[t("div",As,[t("div",{class:"user-avatar-large",style:L({background:(g=a.value)==null?void 0:g.avatarColor})},o((z=a.value)==null?void 0:z.username.charAt(0).toUpperCase()),5),t("div",null,[t("h2",null,o((h=a.value)==null?void 0:h.username),1),t("p",Is,o((E=a.value)==null?void 0:E.phone),1)])]),t("button",{class:"close-btn",onClick:q},"×")]),t("div",zs,[t("div",Es,[s[53]||(s[53]=t("h3",{class:"section-title"},"基本信息",-1)),t("div",Ss,[t("div",$s,[s[49]||(s[49]=t("span",{class:"info-label"},"用户ID",-1)),t("span",qs,o((O=a.value)==null?void 0:O.id),1)]),t("div",Hs,[s[50]||(s[50]=t("span",{class:"info-label"},"角色",-1)),t("span",{class:b(["role-badge","role-"+((Q=a.value)==null?void 0:Q.role)])},o(T((G=a.value)==null?void 0:G.role)),3)]),t("div",Ps,[s[51]||(s[51]=t("span",{class:"info-label"},"状态",-1)),t("span",{class:b(["status-badge","status-"+((J=a.value)==null?void 0:J.status)])},o(N((X=a.value)==null?void 0:X.status)),3)]),t("div",Rs,[s[52]||(s[52]=t("span",{class:"info-label"},"注册时间",-1)),t("span",Ls,o((Y=a.value)==null?void 0:Y.createdAt),1)])])]),t("div",Ts,[s[58]||(s[58]=t("h3",{class:"section-title"},"账户信息",-1)),t("div",Ns,[t("div",Ws,[s[54]||(s[54]=t("span",{class:"info-label"},"账户余额",-1)),t("span",Ks,"¥"+o((Z=a.value)==null?void 0:Z.balance.toFixed(2)),1)]),t("div",js,[s[55]||(s[55]=t("span",{class:"info-label"},"充电次数",-1)),t("span",Os,o((tt=a.value)==null?void 0:tt.totalChargingCount)+" 次",1)]),t("div",Qs,[s[56]||(s[56]=t("span",{class:"info-label"},"累计电量",-1)),t("span",Gs,o((st=a.value)==null?void 0:st.totalChargingEnergy.toFixed(1))+" kWh",1)]),t("div",Js,[s[57]||(s[57]=t("span",{class:"info-label"},"累计消费",-1)),t("span",Xs,"¥"+o((et=a.value)==null?void 0:et.totalChargingFee.toFixed(2)),1)])])]),t("div",Ys,[s[59]||(s[59]=t("h3",{class:"section-title"},"最近充电记录",-1)),t("div",Zs,[(n(!0),i(P,null,R(((lt=a.value)==null?void 0:lt.recentCharges)||[],l=>(n(),i("div",{key:l.id,class:"record-item"},[t("div",te,[t("div",se,o(l.station),1),t("div",ee,o(l.time),1)]),t("div",le,[t("div",oe,o(l.energy)+" kWh",1),t("div",ae,"¥"+o(l.cost),1)])]))),128))])])]),t("div",ne,[t("button",{class:"btn-secondary",onClick:q},"关闭"),t("button",{class:"btn-primary",onClick:s[8]||(s[8]=l=>K(a.value))},"编辑用户")])])])):m("",!0),$.value?(n(),i("div",{key:2,class:"dialog-overlay",onClick:S(A,["self"])},[t("div",ie,[t("div",{class:"dialog-header"},[s[60]||(s[60]=t("h2",null,"用户充值",-1)),t("button",{class:"close-btn",onClick:A},"×")]),t("div",re,[t("div",de,[t("div",{class:"user-avatar-small",style:L({background:(ot=a.value)==null?void 0:ot.avatarColor})},o((at=a.value)==null?void 0:at.username.charAt(0).toUpperCase()),5),t("div",ue,[t("div",ve,o((nt=a.value)==null?void 0:nt.username),1),t("div",ce,"当前余额: ¥"+o((it=a.value)==null?void 0:it.balance.toFixed(2)),1)])]),t("div",ge,[s[62]||(s[62]=t("label",null,"充值金额",-1)),t("div",pe,[s[61]||(s[61]=t("span",{class:"currency-symbol"},"¥",-1)),p(t("input",{"onUpdate:modelValue":s[9]||(s[9]=l=>c.value=l),type:"number",step:"1",min:"1",placeholder:"请输入充值金额",class:"amount-input",onKeyup:yt(j,["enter"])},null,544),[[_,c.value,void 0,{number:!0}]])]),t("div",he,[(n(),i(P,null,R([50,100,200,500],l=>t("button",{key:l,class:b(["quick-amount-btn",{active:c.value===l}]),onClick:k=>c.value=l}," ¥"+o(l),11,be)),64))])])]),t("div",we,[t("button",{class:"btn-secondary",onClick:A},"取消"),t("button",{class:"btn-primary",onClick:j,disabled:!c.value||c.value<=0},"确认充值",8,fe)])])])):m("",!0)])}}},ye=mt(ke,[["__scopeId","data-v-b023159b"]]);export{ye as default};
